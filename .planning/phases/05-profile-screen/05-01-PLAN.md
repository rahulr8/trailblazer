---
phase: 05-profile-screen
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - app/(modals)/profile.tsx
autonomous: true

must_haves:
  truths:
    - "Profile screen shows 'My Profile' title with 'Exclusive perks and rewards.' subtitle and close (X) button"
    - "Hero section shows large avatar circle, user name as H1 ('Sarah Johnson'), and membership tier as H2 ('Platinum Member')"
    - "Edit Profile button shows Coming Soon toast when tapped"
    - "Coach Personality section shows 5 selectable icons with visual selection state"
    - "Lifetime stats grid displays 6 items in 3x2 layout populated from MOCK_STATS"
    - "Achievements section shows horizontal scroll row of badge circles from MOCK_ACHIEVEMENTS"
  artifacts:
    - path: "app/(modals)/profile.tsx"
      provides: "Profile screen top half - header, hero, coach, stats, achievements"
      contains: "MOCK_USER"
  key_links:
    - from: "app/(modals)/profile.tsx"
      to: "lib/mock/data.ts"
      via: "import MOCK_USER, MOCK_STATS, MOCK_ACHIEVEMENTS"
      pattern: "import.*MOCK_(USER|STATS|ACHIEVEMENTS).*from.*@/lib/mock"
---

<objective>
Rebuild the profile screen top half: header with title/subtitle, hero identity section, coach personality selector, lifetime stats 3x2 grid, and achievements horizontal scroll.

Purpose: Replace the existing bare-bones profile.tsx with the wireframe-accurate layout covering identity, personality, stats, and achievements sections.
Output: Updated profile.tsx with the top 5 sections of the wireframe fully implemented using mock data.
</objective>

<execution_context>
@/Users/turbolaunch/.claude/get-shit-done/workflows/execute-plan.md
@/Users/turbolaunch/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-profile-screen/05-RESEARCH.md
@app/(modals)/profile.tsx
@lib/mock/data.ts
@lib/mock/types.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Rebuild profile screen with header, hero, coach personality, stats grid, and achievements</name>
  <files>app/(modals)/profile.tsx</files>
  <action>
Rewrite `app/(modals)/profile.tsx` to match the wireframe layout. Remove the existing `useHealthConnection` import and all HealthKit-related code (real health connection logic). Remove existing menu-based layout. Build the following sections top-to-bottom:

**1. Header:**
- "My Profile" title text (fontSize 28, fontWeight 700, color textPrimary)
- "Exclusive perks and rewards." subtitle (fontSize 14, color textSecondary)
- Close (X) button positioned top-right (keep existing close button pattern)

**2. Hero Identity Section:**
- Large avatar circle (100x100, backgroundColor primary+"20", User icon size 48)
- User name H1: `MOCK_USER.displayName` ("Sarah Johnson") - fontSize 24, fontWeight 700
- Membership tier H2: Display "Platinum Member" or "Free Member" based on `MOCK_USER.membershipTier` - fontSize 14, color textSecondary
- "Edit Profile" button below name - use Pressable with border, borderRadius, paddingHorizontal 20, paddingVertical 8. On press, show Coming Soon toast using `useToast` from heroui-native: `toast.show({ title: "Coming Soon", description: "Edit Profile will be available soon." })`

**3. Coach Personality Section:**
- Section label "Coach Personality:" (fontSize 16, fontWeight 600, color textPrimary, marginBottom 12)
- Row of 5 selectable options using local state `useState<string>('bestie')` for selected personality
- Options array: `[{ id: 'drill-sergeant', emoji: '\u{1F3CB}', label: 'Drill Sgt' }, { id: 'bestie', emoji: '\u{1F917}', label: 'Bestie' }, { id: 'zen', emoji: '\u{1F9D8}', label: 'Zen' }, { id: 'hype', emoji: '\u{1F525}', label: 'Hype' }, { id: 'witty', emoji: '\u{1F916}', label: 'Witty' }]`
- Each option: Pressable, circular container (56x56), emoji text inside (fontSize 24), label below (fontSize 11)
- Selected state: backgroundColor primary+"20", borderWidth 2, borderColor primary
- Unselected: backgroundColor cardBackground, borderWidth 1, borderColor cardBorder
- Layout: flexDirection row, justifyContent space-around

**4. Lifetime Stats Grid (3x2):**
- Section label "Lifetime stats:" (same style as Coach label)
- Card container with cardBackground, cardBorder, borderRadius 2xl, padding xl, shadow md
- Stats array (6 items from MOCK_STATS):
  - { label: 'Total Mins', value: MOCK_STATS.totalMinutes.toLocaleString() }
  - { label: 'Longest Streak', value: MOCK_STATS.longestStreak.toString() }
  - { label: 'Total KMs', value: MOCK_STATS.totalKm.toFixed(1) }
  - { label: 'Badges', value: MOCK_STATS.totalBadges.toString() }
  - { label: 'Total Activities', value: MOCK_STATS.totalActivities.toString() }
  - { label: 'Challenges', value: MOCK_STATS.totalChallenges.toString() }
- Grid: flexDirection row, flexWrap wrap, gap Spacing.lg
- Each item: flex 1, minWidth '28%', alignItems center
- Value: fontSize 22, fontWeight 700, color textPrimary
- Label: fontSize 12, marginTop 4, textAlign center, color textSecondary

**5. Achievements Horizontal Scroll:**
- Section label "Achievements:" (same style as other labels)
- Horizontal ScrollView (horizontal, showsHorizontalScrollIndicator false)
- Map over `MOCK_ACHIEVEMENTS` to render badge circles
- Each badge: View (64x64 circle), backgroundColor accent+"20" if earned, cardBackground if not
- Icon inside: Use text emoji based on iconName mapping: sun="\u2600\uFE0F", mountain="\u26F0\uFE0F", cloud-rain="\u{1F327}\uFE0F", leaf="\u{1F343}", snowflake="\u2744\uFE0F" (fallback to trophy "\u{1F3C6}")
- Badge name below circle (fontSize 10, textAlign center, maxWidth 70, color textSecondary)
- Gap between badges: Spacing.md
- Unearned badges: opacity 0.4

**Imports needed:**
- `import { MOCK_USER, MOCK_STATS, MOCK_ACHIEVEMENTS } from '@/lib/mock'`
- `import { useToast } from 'heroui-native'`
- Keep existing: router, signOut, useSafeAreaInsets, useTheme, useAuth, lucide icons (X, User, LogOut)
- Remove: useHealthConnection, Award, ChevronRight, Heart, Moon, Settings, ActivityIndicator, Alert, Switch (these will be re-added in Plan 02 as needed)

**Keep at the bottom of the ScrollView (placeholder for Plan 02):**
- Sign out button (keep existing handleSignOut)
- Leave space between achievements and sign out for Plan 02 to insert its sections

**Structure:** Keep existing container/header/scrollView pattern. Replace all content inside ScrollView.
  </action>
  <verify>
Run `bunx tsc --noEmit` - zero type errors.
Visually verify: Screen shows My Profile header, avatar with "Sarah Johnson", "Platinum Member", Edit Profile button, 5 coach personality emojis, 6-stat grid, and achievement badges in horizontal scroll.
  </verify>
  <done>
Profile screen top half matches wireframe: header with title/subtitle/close, hero with avatar+name+tier+edit button, coach personality with 5 selectable options, 3x2 stats grid with 6 items from MOCK_STATS, achievements horizontal scroll from MOCK_ACHIEVEMENTS. Edit Profile shows Coming Soon toast. TypeScript compiles clean.
  </done>
</task>

</tasks>

<verification>
- `bunx tsc --noEmit` passes with zero errors
- Profile screen renders all 5 sections in correct order
- MOCK_USER.displayName appears as the name
- MOCK_STATS values populate the 6-stat grid
- MOCK_ACHIEVEMENTS render as badge circles in horizontal scroll
- Coach personality selection toggles visual state
- Edit Profile button triggers toast
</verification>

<success_criteria>
1. Profile header shows "My Profile" title, subtitle, and close button
2. Hero shows large avatar, "Sarah Johnson" (H1), "Platinum Member" (H2), Edit Profile button
3. Coach Personality shows 5 selectable emoji options with visual selection state
4. Stats grid shows 6 items in 3x2 layout from MOCK_STATS
5. Achievements shows horizontal scroll of badge circles from MOCK_ACHIEVEMENTS
6. Edit Profile tap shows Coming Soon toast
7. Zero TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/05-profile-screen/05-01-SUMMARY.md`
</output>
